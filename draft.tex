
\title{A Recurrence}
\author{
  Perry Kleinhenz \and
  Fermi Ma \and
  Erik Waingarten
}
\date{\today}

\documentclass[12pt]{article}
\usepackage{amsmath}
\usepackage{amsthm}

\leftmargin=0.25in
\oddsidemargin=0.25in
\textwidth=6.0in
\topmargin=-.4in
\textheight=9.75in

\newtheorem{proposition}{Proposition}
\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}

\begin{document}
\maketitle

\section{Introduction}
\emph{Written by Erik Waingarten, Perry Kleinhenz, and Fermi Ma}

In this paper, we look at sequences of the form $a_0, a_1, a_2, \dots$ defined recursively using a function $F(x,y)$ of two variables, where we set
\begin{equation*}
a_{n+1} = F(a_n, a_{n-1}).
\end{equation*}
It is clear that any recurrent sequence where the relation only depends on the previous two terms can be expressed in this form. For example, the famous Fibonacci sequence fits this mold: if we define $F(x,y) = x + y$, then 
\begin{equation*}
a_{n+1} = a_n + a_{n-1},
\end{equation*}
and letting $a_0 =0 , a_1 = 1$, produces the Fibonacci sequence. 

In this paper we investigate the question of whether or not a function $F$ will produce a sequence which is \emph{periodic} for all values of $a_0$ and $a_1$. In order to make this notion precise we give a formal definition.
\begin{definition}
A recurrence relation $F(x,y)$ is \textit{periodic} if there exists an integer $p>0$ such that for any $x,y$, when $a_0 = x$ and $a_1 = y$ we have $a_p = x$ and $a_{p+1} = y$. In this paper, the period $p$ will refer to the smallest such integer.
\end{definition}

The paper is organized as follows. In Section~\ref{f(y)/x case}, we consider sequences of the form $F(x,y) = f(y)/x$. For periods 2, 3, 4, 5, and 6, we give functions of this form that produce these periods, and (under certain assumptions) show that no other functions of this form work. In Section~\ref{rational and linear F}, we look at another simplification of the question; we consider $F(x,y)$ of the form $f(x,y)/g(x,y)$ where $f$ and $g$ are both linear functions of $x$ and $y$. We are able to completely describe the functions $F(x,y)$ of this form that produce periods 2 and 3. Lastly, in Section~\ref{general case}, we consider the general problem of producing a periodic function $F(x,y)$ for any given period $p \geq 2$. We do this by looking at functions of the form $F(x,y) = y^n/x$ where $n$ can be any real or complex number. We give a method that we conjecture works for any given $p$, and we provide some ideas one might use to prove this conjecture. In addition, we support the conjecture with numerical evidence from Mathematica.

\section{The case of $F(x,y) = f(y)/x$}
\label{f(y)/x case}
\emph{Written by Erik Waingarten, Perry Kleinhenz, and Fermi Ma}

We begin by investigate the special case of functions $F(x,y) = f(y)/x$. In this section, we look at periods 2, 3, 4, 5 and 6 as separate cases, and manage to fully classify the polynomials $f(y)$ that produce these periods. For periods 2 and 3, we do not need the assumption that we are dealing with polynomials, but we do need this assumption for periods 4, 5 and 6. However, we will see in this section that our analysis increases significantly in complexity as the period increases, making it unlikely that this approach will help us deal with general periods $p$.

\subsection{Period 2}

We claim that there are no functions $f(y)/x$ that produce a period of 2. Note that for this claim, we do not need any assumptions about $f(y)$.

\begin{proof}
Assume otherwise. Note the sequence looks like
\[ x,y,x,y,x,y,\dots , \]
and in particular we have two expressions for the third term of the sequence. By definition, the third term is $f(y)/x$, but the periodicity requirement makes it equal to $x$. So we must have
\begin{equation*}
x = \frac{f(y)}{x},
\end{equation*}
or equivalently
\begin{equation*}
x^2 = f(y).
\end{equation*}
This equation must hold for arbitrary $x$ and $y$, but setting $x = 0$ gives $f(y) = 0$ for all $y$, and setting $x = 1$ gives $f(y) = 1$ for all $y$. Contradiction.
\end{proof}

\subsection{Period 3}

We claim that a function $f(y)/x$ if and only if it is of the form $f(y) = \frac{c}{y}$ where $c$ is some constant. We separate this claim into two propositions, which we prove separately

\begin{proposition}
If a function of the form $f(y)/x$ produces a period 3 sequence, it must be of the form $f(y) = \frac{c}{y}$ where $c$ is some constant.
\end{proposition}

\begin{proof}
If the period is 3, then the sequence is
\begin{equation*}
x, y, \dfrac{f(y)}{x}, x, y, \dfrac{f(y)}{x}, \dots
\end{equation*}
The fourth term of the sequence must be of the form $\frac{x f(x)}{f(y)}$, which gives the relation
\[ y = \frac{x f(x)}{f(y)}. \]
Recall that we defined periodicity to mean that the sequence is periodic for \emph{all} choices of $x$ and $y$. In particular, this must hold when $x = 1$, in which case the relation is
\[ y = \frac{f(1)}{f(y)} \]
which tells us that $f(y) = \frac{f(1)}{y}$. Since $f(1)$ is a constant, this completes the proof.
\end{proof}

\begin{proposition}
Any function of the form $f(y) = \frac{c}{y}$ where $c$ is a constant will produce a period 3 sequence.
\end{proposition}
\begin{proof}
This follows simply by writing down the sequence. The third term of the sequence will be $\frac{c}{xy}$, and the fourth term must then be $\frac{cxy}{cy} = x$, and the fifth term is $\frac{cxy}{cx} = y$. This completes the proof, as we have cycled back to $x$ and $y$.
 \end{proof}

\subsection{Period 4}

To make claims about functions $f(y)/x$ for period 4, we must assume that $f(y)$ is a polynomial in $y$. Then we get the following result.

\begin{proposition}
If $F(x,y) = f(y)/x$ and $f(y)$ is a polynomial in $y$, then the resulting sequence has period 4 if and only if $f(y) = c$ for any constant $c$
\end{proposition}

\begin{proof}
One direction of this claim is easy to check. If we set $f(y) = c$, our sequence is
\[x,y, \frac{c}{x}, \frac{c}{y}, x, y, \dots .\]

For the harder direction, suppose we have a sequence of period 4 and that the function is $f(y)/x$. Then we know that the sequence looks like
\begin{equation*}
x, y, \dfrac{f(y)}{x}, \dfrac{f(f(y)/x)}{y}, x, y, \dots \, .
\end{equation*}
Using the fact that the sixth term of the sequence is generated by a recurrence relation on the two previous terms, we know it must be $\dfrac{yf(x)}{f(f(y)/x)}$. On the other hand, periodicity tells us it is $y$, so we have
\[ y = \dfrac{yf(x)}{f(f(y)/x)}.\]

Simplifying this gives
\[ f(f(y)/x) = f(x). \]

If we set $x = 1$, then we get
\[ f(f(y)) = f(1). \]

And in particular, this tells us that $f(f(y))$ is a constant. Now suppose that $f(y)$ is a nonconstant polynomial. Then $f(y)$ can take on infinitely many values, and note that at all of these values $f(f(y)) - f(1) = 0$. This means that $f(f(y)) - f(1)$, a nonconstant polynomial in $f(y)$, has infinitely many roots. This is a contradiction, $f(y)$ must be a constant.
\end{proof}

\subsection{Period 5}

Similarly, for period 5, we make the assumption that $f(y)$ is a polynomial in $y$. 

\begin{proposition}
If $F(x,y) = f(y)/x$ and $f(y)$ is a polynomial in $y$, then the resulting sequence has period 5 if and only if $f(y) = cy + c^2$ for any constant $c$.
\end{proposition}

\begin{proof}
We omit the proof that this function indeed produces period 5. The proof simply involves writing out the sequence as given by the recurrence relation, and verifying that this works.

We show that if the sequnce has period 5, then $f(y)$ must be of this form. We know that the sequence must look like
\begin{equation*}
x,y, \frac{f(y)}{x}, \frac{f(f(y)/x)}{y}, \frac{xf( f(f(y)/x)/y)}{f(y)}, x, y, \dots .
\end{equation*}
We know that the sixth term must be $\frac{y f( xf(f(f(y)/x)/y)/f(y))}{f(f(y)/x)}$ and the seventh term must be $\frac{ f(x)f(y)}{xf(f(f(y)/x)/y)}$ due to the recurrence relation. This gives the equations
\begin{align*}
x &= \frac{y f( xf(f(f(y)/x)/y)/f(y))}{f(f(y)/x)}\\
y &= \frac{ f(x)f(y)}{xf(f(f(y)/x)/y)}.
\end{align*}
These equations can be rewritten as
\begin{align*}
xf\left(\frac{f(y)}{x}\right) &= y f\left( \frac{ xf(f(f(y)/x)/y)}{f(y)}\right) \\
\frac{f(x)}{y} &= \frac{ xf(f(f(y)/x)/y)}{f(y)}. 
\end{align*}
We note that the right hand side of the second equation can be plugged into the right hand side of the first equation to give us 
\begin{equation*}
xf\left(\frac{f(y)}{x}\right) = y f\left(\frac{f(x)}{y}\right).
\end{equation*}
Now if $f$ is some polynomial, it takes the form $f(z) = b_n z^n + \cdots + b_1 z + b_0$, with $b_n \neq 0$. Plugging this definition into the above equation gives us 
\begin{align*}
&x\left( b_n \left( \frac{f(y)}{x}\right)^n + \cdots + b_1 \left( \frac{f(y)}{x}\right) + b_0 \right) = \\
& y\left( b_n \left( \frac{f(x)}{y}\right)^n + \cdots + b_1 \left( \frac{f(x)}{y}\right) + b_0 \right). 
\end{align*}
Since $x$ and $y$ can take any values, we can set $x=1$ and let $y$ be arbitrary. The largest exponent of $y$ on the left hand side is $n^2$ while the largest exponent of $y$ on the right hand side is $1$. Since $y$ can be arbitrarily large, the term with the largest exponent dominates. For large $y$, the only way the two sides can be equal is if $n^2 = 1$, and so $n = 1$. This means that the polynomial $f(z)$ must be linear, so we write $f(z) =b_1 z + b_0$. Simplifying the above equations by assuming linearity gives
\begin{equation*}
x\left(b_1 \left( \frac{b_1 y + b_0}{x} \right) + b_0 \right) = y\left(b_1 \left( \frac{b_1 x + b_0}{y} \right) + b_0 \right),
\end{equation*}
which simplifies to 
\begin{equation*}
b_1^2 y + b_0 x = b_1^2 x + b_0 y.
\end{equation*}
Setting $x=0$ we find that $b_0=b_1^2$. Therefore in order for the recurrence relation to have period 5 we must have $f(z)=cy+c^2$, as desired. 
\end{proof}

\subsection{Period 6}

The last case we consider is period 6. Our approach for handling this case is similar to the one we use for period 5. We give the following result.

\begin{proposition}
If $F(x,y) = f(y)/x$ and $f(y)$ is a polynomial in $y$, then the resulting sequence has period 6 if and only if $f(y) = cy$ for any constant $c$.
\end{proposition}

\begin{proof}
It is not hard to see that $f(y) = cy$ produced a recurrence with period 6. The sequence is simply
\[ x, y, \frac{cy}{x}, \frac{c^2}{x}, \frac{c^2}{y}, \frac{cx}{y}, x,y,\dots .\]

Now we show that all polynomials $f(y)$ that produce period 6 must be of this form. Labeling the terms of the sequence as $a_0, a_1, a_2, \dots$, we get that 
\begin{align*}
a_6 =x = \frac{f(a_5)}{a_4} \\ 
a_7 = y = \frac{f(a_6)}{a_5},
\end{align*}
due to the periodicity condition. From this, we can deduce that $a_5 = \frac{f(x)}{y}$. This also gives us that 
\begin{equation*}
a_4 x = f\left( \frac{f(x)}{y} \right).
\end{equation*}
Noting that the recurrence relation gives
\begin{equation*}
a_4 = \frac{ x f(f(f(y)/x)/y)}{f(y)}, 
\end{equation*}
we obtain 
\begin{equation*}
 f\left( \frac{f(x)}{y} \right) = \frac{ x^2 f(f(f(y)/x)/y)}{f(y)}.
\end{equation*}
Since $x$ and $y$ can take any values, we can set $y=1$ and let $x$ be arbitrary. Furthermore since $f$ is some polynomial, it takes the form $f(z) = b_n z^n + \cdots + b_1 z +b_0$. Plugging these two into the above equation gives us 
\begin{equation*}
f(b_n x^n + \cdots + b_1 x + b_0) = x^2 f\left( b_n \frac{f(1)^n}{x^n} + \cdots + b_1 \frac{f(1)}{x} + b_0 \right).
\end{equation*}
We note that the largest exponent of $x$ in the polynomial on the left hand side is $n^2$ while the largest exponent of $y$ in the polynomial on the right hand side is $x^2$ if $b_0 \neq 0$. Since we can make $x$ arbitrarily large so that the term with the largest exponent dominates, this gives $n^2 = 2$ if $b \neq 0$. This equation has no integer solutions, so we must have $b_0 =0$. Now if $b_1 = 0$ (and $b_0 = 0$), then the highest exponent of $x$ on the right hand side is 0, and so $n^2 = 0$, implying that the entire polynomial is the zero polynomial. The function is not periodic in this case. This means the only case remaining is when  $b_1 \neq 0$ (and $b_0 = 0$). In this case, the same argument as before tells us that $n^2 = 1$, so $n = 1$. So the only possible polynomial is $f(z) = b_1 z$ as desired. 
\end{proof}

To conclude this section, we observe that this case analysis grew more and more complicated as we increased the desired period. This is simply due to the fact that at each step of the recurrence, the expressions grow more and more complicated. Thus, this sort of analysis does not seem to be a viable way of coming up with general statements about functions that work for arbitrary periods.

\section{Rational/Linear F}
\label{rational and linear F}
\emph{Written by Perry Kleinhenz, edited by Fermi Ma and Erik Waingarten}

In this section we consider the case where $F(x,y)$ is the quotient of two linear functions. That is,
\begin{equation}
\label{rationallinear}
F(x,y) = \frac{ b_1 x + b_2 y + b_3}{ c_1 x+ c_2 y + c_3}.
\end{equation}

We approach this problem by considering specific values for the periods. In the case of period 2, the only function that works is $F(x,y) = x$, which we get immediately from setting the third term of the sequence equal to the first term. For the remainder of this section, we focus on the case where the period is 3.

We first write out the terms of the sequence as given by the recurrence relation:
\begin{align*}
a_0 &= x \\ 
a_1 &= y \\
a_2 &= \frac{ b_1 x + b_2 y + b_3}{ c_1 x+ c_2 y + c_3}\\
a_3 &= \frac{(c_1 x+ c_2 y + c_3) b_1 y + b_2 (b_1 x + b_2 y + b_3)+ b_3(c_1 x+ c_2 y + c_3)}{ (c_1 x+ c_2 y + c_3)c_1 y+ c_2 (b_1 x + b_2 y + b_3) + c_3(c_1 x+ c_2 y + c_3)}.\\
\vdots
\end{align*}

We now state our main result.

\begin{proposition} 
If $F(x,y)$ is of the form in Equation \ref{rationallinear} and the recurrence relation it produces has period $3$, then $F(x,y)$ is one of three following functions:
\begin{align*}
F(x,y) &= -x-y \\
F(x,y) &= \left( \frac{1}{2} +\frac{i\sqrt{3}}{2} \right) x + \left( \frac{1}{2} -\frac{i\sqrt{3}}{2} \right) y \\
F(x,y) &= \left( \frac{1}{2} -\frac{i\sqrt{3}}{2} \right) x + \left( \frac{1}{2} +\frac{i\sqrt{3}}{2} \right) y.
\end{align*}
\end{proposition}
\begin{proof}
In order for $F(x,y)$ to induce a recurrence relation with period $3$ we must have $a_3=a_0$. This means that we have
\begin{align*}
\left( (c_1 x + c_2 y +c_3) c_1 y + c_2 (b_1 x + b_2 y + b_3) + c_3(c_1 x + c_2 y +c_3) \right) x = \\(c_1 x + c_2 y + c_3) b_1 y + b_2(b_1 x + b_2 y + b_3) + b_3 (c_1 x = c_2 y + c_3).
\end{align*}
Expanding out this expression gives
\begin{align*}
c_1^2 x^2 y + c_2 c_1 y^2 x + (c_3 c_1 + c_2 b_2 + c_3 c_2)xy + (c_2b_1 + c_3 c_1) x^2 + (b_3 + c_3)x = \\ c_1 b_1 xy + c_2 b_1 y^2 + c_3 b_1 y + (b_2 b_1 + b_3 c_1)x + (b_2^2 +b_3 c_2)y + b_2 b_3 + b_3 c_3.
\end{align*}
Because this relation must hold for arbitrary $x$ and $y$, the polynomials on both sides must be the same polynomial. If they are not, then we have two distinct polynomials that agree at all values of $x$ and $y$, and then their difference is a nonzero polynomial that equals zero everywhere, which is impossible.

So by matching coefficients of terms on the left hand side with coefficients of terms on the right hand side, we get a number of relations. For instance, there is a $c_1^2 x^2 y$ term on the left hand side but no $x^2y$ term on the right hand side, so $c_1 = 0$.

and so we must have $c_1=0$. We can do this for terms of each order and find the following 5 relations for the coefficients 
\begin{align*}
\label{fiverelations}
c_2(b_2 + c_3) =0 \\
c_2 b_1 = 0 \\
b_3 + c_3 = b_2 b_1 \\
c_3 b_1 + b_2^2 + b_3 c_2 =0 \\
b_3(b_2 + c_3) = 0. 
\end{align*}
Suppose for now that $c_2 =0$. Then $F$ is of the form 
\begin{equation*}
F(x,y) = \frac{ b_1 x + b_2 y + b_3}{c_3}.
\end{equation*}
Therefore we must have 
\begin{equation*}
c_3^2 x = b_1 c_3 y + b_2 (b_1 x + b_2 y + b_3) + b_3,
\end{equation*}
which gives us a new family of relations.
\begin{align*}
b_2 b_1 = c_3^2 \\
c_3 b_1 + b_2^2 =0.
\end{align*}
Combining these two equations gives us 
\begin{equation*}
c_3^3 + b_2^3 = 0, 
\end{equation*}
which has the solutions $c_3 = -b_2$ and $c_3 = \frac{1}{2} ( b_2 \pm i\sqrt{3}b_2)$. Note that $c_3 = -b_2$ implies that we must have $b_1=b_2$ which gives us $F(x,y) = -x -y$. It is easy to check that this is in fact periodic with period 3. On the other hand $c_3 = \frac{1}{2} ( b_2 \pm i\sqrt{3}b_2)$ implies that $b_1 = \frac{1}{2} ( -b_2 \pm i\sqrt{3}b_2)$, which gives us 
\begin{align*}
F(x,y) &= \left( \frac{1}{2} -\frac{i\sqrt{3}}{2} \right) x + \left( \frac{1}{2} +\frac{i\sqrt{3}}{2} \right) y \\
F(x,y) &= \left( \frac{1}{2} +\frac{i\sqrt{3}}{2} \right) x + \left( \frac{1}{2} -\frac{i\sqrt{3}}{2} \right) y.
\end{align*}
We can also verify that these two functions give a sequence with period 3. This exhausts the possibilities when $c_2=0$, so now asssume otherwise. Earlier, we had derived the relation $c_2b_1 = 0$. If $c_2 = 0$, then $b_1 = 0$, so $F(x,y)$ takes the form 
\begin{equation*}
F(x,y) = \frac{b_2 y + b_3}{c_2 y + c_3}.
\end{equation*}
Therefore if $a_3 = a_0$, we must have that 
\begin{equation*}
x = \frac{ b_2^2 y + b_2b_3 +b_3(c_2 y + c_3)}{c_2 b_2 y + c_2 b_3 + c_3 c_2 y + c_3^2}.
\end{equation*}
However, equation cannot hold for arbitrary $x$ and $y$, as the left hand side depends only on $x$ and the right hand side depends only on $y$. So $c_2=0$ and so the only functions that produce a sequence with period 3 are the ones we have given. 
\end{proof}

Given how complex the expression for $a_3$ was, we did not consider the case of period 4, as that would require analyzing $a_4$. This motivates the need for a different approach to considering the case of arbitrary periods, which we present in the following section.

\section{The $f(y) = y^n$ Case}
\label{general case}

\emph{Written by Fermi Ma and Perry Kleinhenz, edited by Erik Waingarten}\\

Consider the case where $F(x,y) = f(y)/x$ where $f(y) = y^n$. Then the sequence can be written as follows
\[ x^1y^0, x^0y^1, x^{-1}y^{n}, x^{-n}y^{n^2-1}, x^{-n^2+1}y^{n^3-2n},x^{-n^3+n^2+n}y^{n^4-3n^2+1}, \dots \]

The interesting thing to note is that all of the terms in the sequence are now monomials. This makes the analysis much easier. Now let $\alpha_k$ be the sequence of the exponents of $x$ in the above sequence, and let $\beta_k$ be the sequence of exponents of $y$. So we have
\begin{align*}
\alpha_0 &= 1  &\beta_0& = 0\\
\alpha_1 &= 0 &\beta_1& = 1\\
\alpha_2 &= -1  &\beta_2& = n\\
\alpha_3 &= -n &\beta_3& = n^2-1\\
\alpha_4 &= -n^2+1 &\beta_4& = n^3-2n\\
\alpha_5 &= -n^3+2n &\beta_5& =n^4-3n^2+1\\ 
\alpha_6 &= -n^4+3n^2 -1 &\beta_6& =n^5-4n^3+3n \\ 
\alpha_7 &= -n^5+4n^3 - 3n &\beta_7& =n^6-5n^4+6n^2 - 1
\end{align*}

We can use these $\{\alpha_i\}$ and $\{\beta_i\}$ sequences to get values of $n$ that achieve certain periods. For example, if we want a function of the form $F(x,y) = y^n/x$ with period 5, we simply set $\alpha_5 = \alpha_0 = 1$, $\beta_5 = \beta_0 = 0$, $\alpha_6 = \alpha_1 = 0$, and $\beta_6 = \beta_1 = 1$. This gives us a system of four equations in one variable
\begin{align*}
-n^3+2n &= 1\\
n^4-3n^2+1&=0\\
-n^4+3n^2 -1&= 0\\
n^5-4n^3+3&n=1\\
\end{align*}
There is no guarantee that this system has a solution, but it turns out that setting $n = -\frac{1+\sqrt{5}}{2} = \phi$, the golden ratio, works. This tells us that $F(x,y) = y^{-\phi}/x$ is periodic with period 5, and we can indeed check that this is the case.

In our numerical calculations, it seems like this system of equations always \emph{does} has a real solution, which leads us to conjecture that for any period strictly greater than 2, there is a function of the form $y^n/x$ with that period.

\subsection{Properties of $\alpha_k$ and $\beta_k$}

We first notice that $\alpha_k$ and $\beta_k$ are similar sequences, as they can be defined as
\begin{align*}
\alpha_0 = 1, \alpha_1 = 0, \alpha_k = n\alpha_{k-1} - \alpha_{k-2}\\
\beta_0 = 0, \beta_1 = 1, \beta_k = n\beta_{k-1} - \beta_{k-2}
\end{align*}

The recurrence relation follows from simply inspecting the function $F(x,y) = y^n/x$.

We also have a relation between $\alpha_k$ and $\beta_k$. 
\begin{lemma} 
\label{ab} For $k\geq 0$
\begin{equation*}
\alpha_{k+1} = - \beta_{k}.
\end{equation*}
\end{lemma}
\begin{proof}
We will show this using induction. As a base case note that $\alpha_1 = 0 = \beta_0$, and $\alpha_2 = -n = \beta_1$. Now if we assume this holds for $k \leq m$ and would like to show it holds for $k = m+1$ consider $\alpha_{m+1}$
\begin{equation*}
\alpha_{m+1} = n \alpha_{m} - \alpha_{m-1}.
\end{equation*}
Well $\alpha_m = -\beta_{m-1}$ and $\alpha_{m-1} = - \beta_{m-2}$ and so 
\begin{equation*}
\alpha_{m+1} = - n \beta_{m-1} + \beta_{m-2} = -\beta_{m},
\end{equation*}
as desired.
\end{proof}

We also note that $\beta_k$ can be written as 
\begin{align*}
\binom{k-1}{k-1} n^{k-1} - \binom{k-2}{k-3}n^{k-3} +\binom{k-3}{k-5}n^{k-5} -\binom{k-4}{k-7}n^{k-7} + \dots \\
=\sum_{i = 0}^{\lfloor (k-1)/2 \rfloor} (-1)^i\binom{k-1-i}{k-1-2i}n^{k-1-2i}\\
\end{align*}
for $k \geq 1$.

To check this, note that it holds for $k = 1$ and $k = 2$, and then plug it in to the recurrence relation
\begin{align*}
\beta_k =& n\beta_{k-1} - \beta_{k-2}\\
\sum_{i = 0}^{\lfloor (k-1)/2 \rfloor} (-1)^i\binom{k-1-i}{k-1-2i}n^{k-1-2i} = & n \sum_{i = 0}^{\lfloor (k-2)/2 \rfloor} (-1)^i\binom{k-2-i}{k-2-2i}n^{k-2-2i} \\
& +\sum_{i = 0}^{\lfloor (k-3)/2 \rfloor} (-1)^i\binom{k-3-i}{k-3-2i}n^{k-3-2i}\\
\end{align*}
Checking this equation for when $k$ is even and when $k$ is odd, as well as using combinatorial identities, shows that this is true.

So we have an expression for $\beta_k$, and this in turn gives us an expression for $\alpha_k$ as noted above. Thus, we know that if we want to attain a specific period $p$, we have to solve equations involving these known expressions.

It remains to show that these equations always produce a real solution for $n$.

\subsection{Existence of Common Solutions}

Now if we want to choose an $n$ such that  $F(x,y)$ has period $p$, our choice of $n$ must solve the equations 
\begin{align*}
x^{\alpha_p} y^{\beta_p} = x^{1}y^{0} \\
x^{\alpha_{p+1}} y^{\beta_{p+1}} = x^{0}y^{1}.
\end{align*}
Or in other terms
\begin{align*}
\alpha_p &=1 \\
\beta_p &=0\\ 
\alpha_{p+1} &= 0 \\
\beta_{p+1} &= 1.
\end{align*}
However as shown in Lemma \ref{ab} above $\alpha_{p+1} = -\beta_p$, and so $\beta_p=0$ and $\alpha_{p+1} =0$ are the same equation.  We also know by the recurrence relation for $\beta$ that 
\begin{equation*}
\beta_{p+1} = n \beta_{p} - \beta_{p-1}.
\end{equation*}
Substituting $\alpha_p = -\beta_{p-1}$ and $\beta_{p}=0$ gives us 
\begin{equation*}
\beta_{p+1} = \alpha_p.
\end{equation*} 
Therefore we actually only need to find a value for $n$ which satisfies the two equations
\begin{align*}
\alpha_p &=1\\
\alpha_{p+1}&=0.
\end{align*}

\subsection{Generating Function for $\alpha_k$}
If we have the recurrence relation for $\alpha_k$ 
\begin{equation*}
\alpha_k = n \alpha_{k-1} - \alpha_{k-2}, 
\end{equation*}
we can use generating functions to find a closed form for $\alpha$. If we let $G(\xi)$ be the generating function of $\alpha_k$, that is 
\begin{equation*}
G(\xi) = \sum_{k=0}^{\infty} a_k \xi^k,
\end{equation*}
then using the above recurrence relation we know that 
\begin{equation*}
G(\xi) -\alpha_0 - \alpha_1 \xi = n \xi G(\xi) - n \alpha_0 \xi - \xi^2 G(\xi).
\end{equation*}
W e can see that this holds as 
\begin{align*}
G(\xi) &= \alpha_0 + &\alpha_1 \xi + &\alpha_2 \xi^2 + \cdots \\
n \xi G(\xi) &= &n\alpha_0 \xi + &n\alpha_1 \xi^2 + n\alpha_2 \xi^3 + \cdots \\
\xi^2 G(\xi) &= &&\alpha_0 \xi^2 + \alpha_1 \xi^3 + \alpha_2 \xi^4 + \cdots.
\end{align*}
Therefore we can see 
\begin{equation*}
G( \xi) (1-n \xi + \xi^2) = n\alpha_0 + \alpha_1 \xi - n\alpha_0 \xi,
\end{equation*}
and so simplifying and using the fact that $\alpha_0=1, \alpha_1=0$ gives us 
\begin{equation*}
G(\xi) = \frac{ 1 - n\xi}{1 - n \xi + \xi^2} .
\end{equation*}
Now we recall that our goal is to establish what $n$ we must choose in order for our sequence to be periodic of period $p$. In order for this to occur we must have $\alpha_p= \alpha_0$ and $\alpha_{p+1} = \alpha_1$. This gives us that 
\begin{align*}
G(\xi) = &\alpha_0 + \alpha_1 \xi + \alpha_2 \xi^2 + \cdots + \alpha_{p-1} \xi^{p-1} \\
+ \alpha_p(&\alpha_0 + \alpha_1 \xi + \alpha_2 \xi^2 + \cdots + \alpha_{p-1} \xi^{p-1}) \\ 
+ \cdots 
\end{align*}
and so 
\begin{equation*}
G(\xi) = \frac{1}{1- \xi^p} (\alpha_0 + \alpha_1 \xi + \alpha_2 \xi^2 + \cdots + \alpha_{p-1} \xi^{p-1}).
\end{equation*}
Combining these two relations gives us that if our sequence is of period $p$ then 
\begin{equation*}
\frac{ 1 - n\xi}{1 - n \xi + \xi^2} = \frac{1}{1- \xi^p} (\alpha_0 + \alpha_1 \xi + \alpha_2 \xi^2 + \cdots + \alpha_{p-1} \xi^{p-1}).
\end{equation*}
We can deduce additional properties of $n$ from this relation. Note that in order to have equality of rational functions, the zeroes of the functions on both sides must be the same. 
The only zero on the left hand side is $\xi = 1/n$, (note that $1-n*1/n + 1/n^2 \neq 0$). The numerator of the left hand side has $p-1$ zeroes in the complex plane, while the denominator has exactly $p$ zeroes. In fact we know that the zeroes of $1 - \xi^p$ are $\xi = e^{2 \pi i k/p}$ for $k=0,1,2, \ldots, p-1$. Therefore $p-2$ of the zeroes of the numerator polynomial must be $p$th roots of unity, while the last root must be $\xi = 1/n$. 

Note also that the locations of discontinuities for both functions must be the same. Therefore we must have that the zeroes of $1-n\xi + \xi^2$ are the same as those zeroes of the denominator of the left hand side which were not canceled out. Thus for some $l$ and $m$, we must have 
\begin{align*}
(\xi - e^{2 \pi i l/p})(\xi - e^{2 \pi i m/p}) = 1 - n \xi + \xi^2,
\end{align*}
or 
\begin{align*}
n = e^{2 \pi i l/p} + e^{2 \pi i m/p} \\
1 = e^{2 \pi i (l+m)/p}.
\end{align*}
So $n$ must be the sum of some $p$th roots of unity, and in fact these roots of unity must be conjugates of one another, so $n$ is always real and 
\begin{equation*}
n= 2 \cos(2 \pi l/p), 
\end{equation*}
for some $l \in \{0, 1,2, \ldots, p-1\}$. 
Since the $\alpha_k$ are the coefficients of the power series of $G(\xi)$ we also know that 
\begin{equation*}
\alpha_k = \frac{1}{k!} \frac{d^k}{d \xi^k} G(\xi) |_{\xi=0}.
\end{equation*}

\end{document}
